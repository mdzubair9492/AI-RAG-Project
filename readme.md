# PaperSage (Standalone PDF Chat Frontend)

This is a Streamlit web application designed for interacting with your PDF documents. It allows you to upload PDFs, process their content, and ask questions based on the information they contain, using Google's Gemini language models via LangChain.

This version runs entirely in the frontend using Streamlit, local authentication, and session-based storage.

## Features

* **Local User Authentication:** Register and log in using a local credential file (`credentials.yaml`).
* **Session-Based Notebooks:** Create and manage simple "notebooks" to organize your PDF chat sessions (notebooks persist only for the current browser session).
* **PDF Upload:** Upload one or more PDF files within a selected notebook.
* **PDF Processing:**
    * Extracts text from uploaded PDFs.
    * Splits text into manageable chunks.
    * Generates embeddings using Google's Generative AI (`models/embedding-001`).
    * Creates a local FAISS vector index for efficient searching.
* **Question Answering:**
    * Ask questions related to the content of the processed PDFs.
    * Retrieves relevant text chunks from the FAISS index.
    * Uses a Google Gemini chat model (`gemini-pro`) to generate answers based on the retrieved context.
    * Attempts to cite the source PDF and page number for the information used in the answer.

## Technology Stack

* **Frontend Framework:** Streamlit
* **Authentication:** Streamlit-Authenticator, PyYAML
* **PDF Handling:** PyPDF2
* **Core AI/LLM Logic:** LangChain, `langchain-google-genai`
* **Vector Store:** FAISS (`faiss-cpu` recommended unless GPU is set up)
* **Configuration:** Python-dotenv (for API keys)

## Setup and Running (Without Virtual Environment)

**Warning:** These steps install packages directly into your main Python environment. This is generally discouraged as it can lead to conflicts between projects. Using a virtual environment (`python -m venv venv`) is recommended for better dependency management.

1.  **Prerequisites:**
    * Python 3.8+ installed on your system.
    * `pip` (Python package installer) available.

2.  **Clone or Download:** Get the project code onto your local machine.

3.  **Navigate to Frontend Directory:**
    Open your terminal or command prompt and change into the `frontend` directory of the project:
    ```bash
    cd path/to/your/project/frontend
    ```

4.  **Install Dependencies Globally:**
    Run the following command to install all required packages directly into your system Python:
    ```bash
    pip install -r requirements.txt
    ```
    *(Make sure your `requirements.txt` file in the `frontend` directory lists all necessary packages: `streamlit`, `streamlit-authenticator`, `PyYAML`, `PyPDF2`, `langchain`, `langchain-google-genai`, `google-generativeai`, `faiss-cpu`, `python-dotenv`)*

5.  **Configure API Key:**
    * Create a file named `.env` inside the `frontend/streamlit_app/` directory.
    * Add your Google API key to this file:
        ```
        GOOGLE_API_KEY="YOUR_GOOGLE_API_KEY_HERE"
        ```
    * Ensure you have enabled the "Generative Language API" in your Google Cloud project.

6.  **Credentials File (`credentials.yaml`):**
    * This file will store hashed user passwords locally.
    * The application will automatically create a default `credentials.yaml` file inside `frontend/streamlit_app/` on the first run if it doesn't exist (you will see a message: "credentials.yaml not found...").

7.  **Run the App:**
    Make sure you are still in the `frontend` directory in your terminal. Run:
    ```bash
    streamlit run streamlit_app/app.py
    ```
    Your browser should open automatically to the application.

## Usage

1.  **Run the app** (using the command above).
2.  **Register:** When you first run the app, use the "Register" form to create a user account. This will save the user to the `credentials.yaml` file.
3.  **Login:** Log in using the credentials you just created.
4.  **Create Notebook:** Go to the "Notebook Management" page and create a new notebook by giving it a name.
5.  **Select Notebook:** Click on the name of the notebook you want to use.
6.  **Upload PDFs:** Use the sidebar to upload the PDF files relevant to this notebook session.
7.  **Process PDFs:** Click the "Process Uploaded PDFs" button in the sidebar and wait for the processing (text extraction, embedding, indexing) to complete.
8.  **Ask Questions:** Once processing is done, type your questions about the PDFs into the main chat input area at the bottom and press Enter.
9.  **View Answers:** The app will display the answer generated by the AI, along with citations pointing to the source PDF and page number(s) where the information was found.
10. **Logout:** Use the "Logout" button when you are finished. Note that notebooks and processed data are currently stored only for the duration of your browser session.